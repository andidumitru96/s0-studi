---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects"))
  .sort((a, b) => Number(b.data.year) - Number(a.data.year));
---

<BaseLayout title="Work â€” s_0 studio">
  <section class="page-header">
    <h1>Work</h1>
  </section>

  <section>
    <div class="project-grid">
      {projects.map((project) => (
        <a
          href={`/projects/${project.slug}`}
          class="project-card reveal"
        >
          <img src={project.data.images[0]} alt={project.data.title} />
          <h3>{project.data.title}</h3>
          <p>{project.data.year}</p>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>

<style>
.page-header {
  margin-bottom: 80px;
}

.project-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 48px;
}

.project-card {
  display: block;
}

.project-card img {
  width: 100%;
  display: block;
  margin-bottom: 12px;
}
</style>
