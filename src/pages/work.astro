---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const projects = (await getCollection("projects"))
  .sort((a, b) =>
    new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
  );
---

<BaseLayout title="Work â€” s_0 studio">
<section>
  <h1>Work</h1>
</section>

<section>
  <div class="project-grid">
    {projects.map(project => (
      <a href={`/projects/${project.slug}`} class="project-card reveal">
        <img src={project.data.images[0]} alt={project.data.title} />
        <h3>{project.data.title}</h3>
        <p>{project.data.year}</p>
      </a>
    ))}
  </div>
</section>
</BaseLayout>

<style>
.project-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 48px;
}

</style>
